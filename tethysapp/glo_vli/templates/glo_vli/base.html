{% extends "tethys_apps/app_base.html" %}

{% load staticfiles %}

{% block title %}{{ tethys_app.name }}{% endblock %}

{% block app_icon %}
{# The path you provided in your app.py is accessible through the tethys_app.icon context variable #}
<img src="{% static tethys_app.icon %}">
{% endblock %}

{# The name you provided in your app.py is accessible through the tethys_app.name context variable #}
{% block app_title %}{{ tethys_app.name }}{% endblock %}
{% block styles %}
{{ block.super }}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/openlayers/4.6.5/ol.css" />
<link rel="stylesheet" href="{% static 'glo_vli/vendor/ol-ext/ol-ext.css' %}" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/css/select2.min.css" rel="stylesheet" />
<link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
{% endblock %}

{% block global_scripts %}
{{block.super}}
<script src="https://cdnjs.cloudflare.com/ajax/libs/openlayers/4.6.5/ol.js"></script>
<script src="{% static 'glo_vli/vendor/ol-ext/ol-ext.js' %}" ></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/js/select2.min.js"></script>
<script src="https://code.highcharts.com/stock/highstock.js"></script>
<script src="https://code.highcharts.com/highcharts-more.js"></script>
<script src="https://code.highcharts.com/stock/modules/exporting.js"></script>
<script src="https://highcharts.github.io/export-csv/export-csv.js"></script>
<script src="https://code.highcharts.com/modules/no-data-to-display.js"></script>
<script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jscolor/2.0.4/jscolor.min.js"></script>
{% endblock %}

{% block app_navigation_items %}
{% if user.is_superuser or user.is_staff %}
{% url 'glo_vli:home' as home_url %}
{% url 'glo_vli:add-point' as add_point_url %}
{% url 'glo_vli:add-polygon' as add_polygon_url %}
{% url 'glo_vli:approve-points' as approve_point_url %}
{% url 'glo_vli:approve-polygons' as approve_polygon_url %}
{% url 'glo_vli:add-new-layer' as add_new_layer %}
{% url 'glo_vli:delete-layer' as delete_layer %}
{% url 'glo_vli:set-layer-style' as set_layer_style %}
<li class="title">Configuration</li>
<li class="{% if request.path == home_url %}active{% endif %}"><a href="{{home_url}}">Home</a></li>
<li class="{% if request.path == add_point_url %}active{% endif %}"><a href="{{add_point_url}}">Add a Point</a></li>
<li class="{% if request.path == approve_point_url %}active{% endif %}"><a href="{{approve_point_url}}">Approve Points</a></li>
<li class="{% if request.path == add_polygon_url %}active{% endif %}"><a href="{{add_polygon_url}}">Add a Polygon</a></li>
<li class="{% if request.path == approve_polygon_url %}active{% endif %}"><a href="{{approve_polygon_url}}">Approve Polygons</a></li>
<li class="{% if request.path == add_new_layer %}active{% endif %}"><a href="{{add_new_layer}}">Add/Update Layer</a></li>
<li class="{% if request.path == delete_layer %}active{% endif %}"><a href="{{delete_layer}}">Delete Layer</a></li>
<li class="{% if request.path == set_layer_style %}active{% endif %}"><a href="{{set_layer_style}}">Set Layer Style</a></li>
{% endif%}
{% endblock %}

{% block app_content %}
{% endblock %}

{% block app_actions %}
{% endblock %}

{% block content_dependent_styles %}
{{ block.super }}
<link href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" rel="stylesheet" />
<link href="{% static 'glo_vli/vendor/contextMenu/contextMenu.css' %}" rel="stylesheet" />
<link href="{% static 'glo_vli/css/main.css' %}" rel="stylesheet"/>
<link href="{% static 'glo_vli/vendor/tabulator/tabulator.min.css' %}" rel="stylesheet"/>
{% endblock %}

{% block scripts %}
{{ block.super }}
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js" integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=" crossorigin="anonymous"></script>
<script src="{% static 'glo_vli/vendor/contextMenu/contextMenu.js' %}" async="async"></script>
<script src="{% static 'glo_vli/js/main.js' %}" type="text/javascript"></script>
<script src="{% static 'glo_vli/vendor/tabulator/tabulator.min.js' %}" type="text/javascript"></script>
{% endblock %}